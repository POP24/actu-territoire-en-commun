<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SDM DAO</title>
    <meta name="description" content="Financez ensemble les projets de vos territoires. Prix libre dès 10€." />
    <meta name="author" content="SDM DAO" />
    <link rel="icon" href="/lovable-uploads/dc8f2f4f-f279-4d5a-94d8-ae40b1c0ff3b.png" type="image/png">

    <meta property="og:title" content="SDM DAO" />
    <meta property="og:description" content="Financez ensemble les projets de vos territoires. Prix libre dès 10€." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/lovable-uploads/dc8f2f4f-f279-4d5a-94d8-ae40b1c0ff3b.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SDM DAO" />
    <meta name="twitter:description" content="Financez ensemble les projets de vos territoires. Prix libre dès 10€." />
    <meta name="twitter:image" content="/lovable-uploads/dc8f2f4f-f279-4d5a-94d8-ae40b1c0ff3b.png" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Landbot avec script moderne -->
    <script SameSite="None; Secure" type="module" src="https://cdn.landbot.io/landbot-3/landbot-3.0.0.mjs"></script>
    
    <!-- Notre launcher personnalisé -->
    <div id="custom-landbot-launcher" style="
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 80px;
      height: 80px;
      background-image: url('/lovable-uploads/5817d468-330a-4484-82c1-8f805fced65b.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      border-radius: 50%;
      cursor: pointer;
      border: 4px solid #FF8B00;
      box-shadow: 0 0 0 2px #FF8B00, 0 4px 12px rgba(255, 139, 0, 0.3);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 999999;
    "></div>

    <script type="module">
      let myLandbot;
      
      // Initialiser Landbot sans launcher visible
      myLandbot = new Landbot.Popup({
        configUrl: 'https://storage.googleapis.com/landbot.pro/v3/H-2624889-3OOHST8FZXKRYDFL/index.json',
      });
      
      // Masquer le launcher par défaut de Landbot
      const hideLandbotLauncher = () => {
        const landbotElements = document.querySelectorAll('[class*="landbot"], [id*="landbot"]');
        landbotElements.forEach(el => {
          if (!el.src && el.style && el.style.position === 'fixed') {
            el.style.display = 'none !important';
          }
        });
      };
      
      // Observer pour masquer le launcher Landbot dès qu'il apparaît
      const observer = new MutationObserver(hideLandbotLauncher);
      observer.observe(document.body, { childList: true, subtree: true });
      
      // Effet hover sur notre launcher
      const customLauncher = document.getElementById('custom-landbot-launcher');
      
      customLauncher.addEventListener('mouseenter', () => {
        customLauncher.style.transform = 'scale(1.5) rotate(6deg)';
        customLauncher.style.background = 'linear-gradient(135deg, #ff6b35, #f7931e, #ff8500)';
        customLauncher.style.backgroundImage = 'none';
        customLauncher.style.boxShadow = '0 8px 32px rgba(255, 139, 0, 0.4), 0 12px 40px rgba(255, 107, 53, 0.6)';
      });
      
      customLauncher.addEventListener('mouseleave', () => {
        customLauncher.style.transform = 'scale(1) rotate(0deg)';
        customLauncher.style.background = 'none';
        customLauncher.style.backgroundImage = 'url("/lovable-uploads/5817d468-330a-4484-82c1-8f805fced65b.png")';
        customLauncher.style.backgroundSize = 'cover';
        customLauncher.style.backgroundRepeat = 'no-repeat';
        customLauncher.style.backgroundPosition = 'center';
        customLauncher.style.boxShadow = '0 0 0 2px #FF8B00, 0 4px 12px rgba(255, 139, 0, 0.3)';
      });
      
      // Ouvrir le popup quand on clique sur notre launcher
      customLauncher.addEventListener('click', () => {
        if (myLandbot) {
          myLandbot.open();
        }
      });
    </script>
  </body>
</html>
